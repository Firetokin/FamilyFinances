{"remainingRequest":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\src\\components\\admin\\page\\UserTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\src\\components\\admin\\page\\UserTable.vue","mtime":1597161935597},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597051501379},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js","mtime":1597051500183},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597051501379},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1597051525864},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597051501379},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js","mtime":1597051500183},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597051501379},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1597051525864}],"contextDependencies":[],"result":["import _defineProperty from \"C:\\\\Users\\\\ASUS\\\\Documents\\\\HBuilderProjects\\\\FamilyFinances\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ASUS\\\\Documents\\\\HBuilderProjects\\\\FamilyFinances\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      query: '',\n      userList: [],\n      total: -1,\n      pagenume: 1,\n      pagesize: 2\n    };\n  },\n  created: function created() {\n    this.getUserList();\n  },\n  methods: {\n    /*this.$axios.get('http://139.199.27.251:8080/elm/BusinessController/listBusinessByOrderTypeId',{\r\n    \tparams:{orderTypeId:this.orderTypeId}\r\n    }).then(response=>{\r\n    \tthis.businessArr = response.data;\r\n    }).catch(error=>{\r\n    \tconsole.log(\"请稍后重试。\");\r\n    });*/\n    showDeleUserMsgBox: function showDeleUserMsgBox(userId) {\n      var _this = this;\n\n      this.$confirm('删除用户?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$http.get('AdministerController/deleteUserById', {\n                  params: {\n                    userId: _this.userId\n                  }\n                });\n\n              case 2:\n                res = _context.sent;\n                console.log(res);\n\n                if (res.data.code == 0) {\n                  _this.pagenume = 1;\n\n                  _this.getUserList();\n\n                  _this.$message({\n                    type: 'success',\n                    message: res.data.msg\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    //搜索用户\n    LoadUserList: function LoadUserList() {\n      this.getUserList();\n    },\n    handleSearch: function handleSearch() {\n      this.getUserList();\n    },\n    //处理分页\n    handleSizeChange: function handleSizeChange(val) {\n      console.log('每页${val}条');\n      this.pagesize = val;\n      this.pagenume = 1;\n      this.getUserList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log('当前页:${val}');\n      this.pagenume = val;\n      this.getUserList();\n    },\n    //获取用户列表的请求\n    getUserList: function () {\n      var _getUserList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this$$http$get;\n\n        var AUTH_TOKEN, res, _res$data, _res$data$meta, code, msg, _res$data$data, users, total;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                AUTH_TOKEN = localStorage.getItem('token');\n                this.$http.default.headers.common['Authorization'] = AUTH_TOKEN;\n                _context2.next = 4;\n                return this.$http.get('AdministerController/getUserList', (_this$$http$get = {\n                  params: {\n                    query: this.query\n                  }\n                }, _defineProperty(_this$$http$get, \"params\", {\n                  pagenum: this.pagenum\n                }), _defineProperty(_this$$http$get, \"params\", {\n                  pagesize: this.pagesize\n                }), _this$$http$get));\n\n              case 4:\n                res = _context2.sent;\n                console.log(res);\n                _res$data = res.data, _res$data$meta = _res$data.meta, code = _res$data$meta.code, msg = _res$data$meta.msg, _res$data$data = _res$data.data, users = _res$data$data.users, total = _res$data$data.total;\n\n                if (code === 0) {\n                  this.userList = users;\n                  this.total = total;\n                  this.$message.success(msg); //this.pagenume = 1;\n                } else {\n                  this.$message.error(msg);\n                }\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getUserList() {\n        return _getUserList.apply(this, arguments);\n      }\n\n      return getUserList;\n    }()\n  }\n};",{"version":3,"sources":["UserTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t\r\n\t\t\t<!--1.面包屑-->\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-user\"></i> 用户管理\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t\t<div>\r\n\t\t\t\t<!--2.搜索-->\r\n\t\t\t\t<el-row class=\"searchRow\">\r\n\t\t\t\t\t<el-col>\r\n\t\t\t\t\t\t<el-input \r\n\t\t\t\t\t\t@clear=\"LoadUserList()\"\r\n\t\t\t\t\t\tclearable \r\n\t\t\t\t\t\tv-model=\"query\" \r\n\t\t\t\t\t\tplaceholder=\"用户名\" \r\n\t\t\t\t\t\tclass=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t\r\n\t\t\t\t<!--3.表格-->\r\n\t\t\t\t<el-table\r\n\t\t\t\t\t:data=\"userList\"\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\tborder\r\n\t\t\t\t\theight=\"250\"\r\n\t\t\t\t\tclass=\"userTable\">\r\n\t\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"userName\" label=\"姓名\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"password\" label=\"密码\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"familyName\" label=\"家庭称呼\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"wage\"label=\"工资\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"userAge\" label=\"年龄\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"comsumption\" label=\"余额\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\tfixed=\"right\"\r\n\t\t\t\t\t\tlabel=\"操作\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talign=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\"\r\n\t\t\t\t\t\t\t\t\t@click=\"showDeleUserMsgBox(scope.row.userId)\">\r\n\t\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\t\t\r\n\t\t\t\r\n\t\t\t<!--4.分页-->\r\n\t\t\t<div class=\"page\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground \r\n\t\t\t\t\tlayout=\"total, sizes,prev, pager, next,jumper\"\r\n\t\t\t\t\t:current-page=\"pagenume\"\r\n\t\t\t\t\t:page-sizes=\"[2,4,6,8]\"\r\n\t\t\t\t\t:page-size=\"2\"\r\n\t\t\t\t\t:total=\"total\"\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-card>\t\r\n\t</div>\t\r\n\t\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tquery:'',\r\n\t\t\tuserList:[],\r\n\t\t\ttotal:-1,\r\n\t\t\tpagenume:1,\r\n\t\t\tpagesize:2,\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.getUserList()\r\n\t},\r\n\tmethods:{\r\n\t\t\r\n\t\t/*this.$axios.get('http://139.199.27.251:8080/elm/BusinessController/listBusinessByOrderTypeId',{\r\n\t\t\tparams:{orderTypeId:this.orderTypeId}\r\n\t\t}).then(response=>{\r\n\t\t\tthis.businessArr = response.data;\r\n\t\t}).catch(error=>{\r\n\t\t\tconsole.log(\"请稍后重试。\");\r\n\t\t});*/\r\n\t\t\r\n\t\tshowDeleUserMsgBox(userId){\r\n\t\t\tthis.$confirm('删除用户?', '提示', {\r\n\t\t\t    confirmButtonText: '确定',\r\n\t\t\t    cancelButtonText: '取消',\r\n\t\t\t    type: 'warning'\r\n\t\t\t}).then(async()=> {\r\n\t\t\t\tconst res = await this.$http.get('AdministerController/deleteUserById',{\r\n\t\t\t\t\tparams:{userId:this.userId}\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\tthis.pagenume=1\r\n\t\t\t\t\tthis.getUserList()\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: res.data.msg,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).catch(() => {\r\n\t\t\t    this.$message({\r\n\t\t\t    type: 'info',\r\n\t\t\t    message: '已取消删除'\r\n\t\t\t    });          \r\n\t\t\t});\r\n\t\t},\r\n\t\t//搜索用户\r\n\t\tLoadUserList(){\r\n\t\t\tthis.getUserList()\r\n\t\t},\r\n\t\t\r\n\t\thandleSearch(){\r\n\t\t\tthis.getUserList()\r\n\t\t},\r\n\t\t\r\n\t\t//处理分页\r\n\t\thandleSizeChange(val){\r\n\t\t\tconsole.log('每页${val}条');\r\n\t\t\tthis.pagesize = val;\r\n\t\t\tthis.pagenume = 1;\r\n\t\t\tthis.getUserList();\r\n\t\t},\r\n\t\t\r\n\t\thandleCurrentChange(val){\r\n\t\t\tconsole.log('当前页:${val}');\r\n\t\t\tthis.pagenume = val;\r\n\t\t\tthis.getUserList();\r\n\t\t},\r\n\t\t\r\n\t\t//获取用户列表的请求\r\n\t\tasync getUserList(){\r\n\t\t\t\r\n\t\t\tconst AUTH_TOKEN = localStorage.getItem('token');\r\n\t\t\tthis.$http.default.headers.common['Authorization'] = AUTH_TOKEN;\r\n\t\t\r\n\t\t\tconst res = await this.$http.get(\r\n\t\t\t'AdministerController/getUserList',{\r\n\t\t\t\tparams:{query:this.query},\r\n\t\t\t\tparams:{pagenum:this.pagenum},\r\n\t\t\t\tparams:{pagesize:this.pagesize}\r\n\t\t\t});\r\n\t\t\tconsole.log(res);\r\n\t\t\tconst{meta:{code,msg},data:{users,total}}=res.data;\r\n\t\t\tif(code===0){\r\n\t\t\t\tthis.userList = users\r\n\t\t\t\tthis.total=total\r\n\t\t\t\tthis.$message.success(msg)\r\n\t\t\t\t//this.pagenume = 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.$message.error(msg)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.box-card{\r\n\theight: 100%;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.inputSearch{\r\n\twidth: 300px;\r\n}\r\n.searchRow{\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n\ttext-align: center;\r\n}\r\n.userTable{\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n\tmargin-top: 20px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n\r\n.page{\r\n\tmargin-top: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/admin/page"}]}