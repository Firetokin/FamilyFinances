{"remainingRequest":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\src\\components\\admin\\page\\UserTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\src\\components\\admin\\page\\UserTable.vue","mtime":1597373262729},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597051501379},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js","mtime":1597051500183},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597051501379},{"path":"C:\\Users\\ASUS\\Documents\\HBuilderProjects\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1597051525864}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      query: '',\n      userList: [],\n      total: 0,\n      pagenume: 1,\n      pagesize: 8,\n      pagecount: 0,\n      aName: 'admin'\n    };\n  },\n  computed: {\n    adminName: function adminName() {\n      var adminName = localStorage.getItem('aName');\n      return adminName ? adminName : this.aName;\n    }\n  },\n  created: function created() {\n    this.getUserList();\n  },\n  methods: {\n    /*this.$axios.get('http://139.199.27.251:8080/elm/BusinessController/listBusinessByOrderTypeId',{\r\n    \tparams:{orderTypeId:this.orderTypeId}\r\n    }).then(response=>{\r\n    \tthis.businessArr = response.data;\r\n    }).catch(error=>{\r\n    \tconsole.log(\"请稍后重试。\");\r\n    });*/\n    //删除\n    removeUserMsg: function removeUserMsg(index, row) {\n      var _this = this;\n\n      this.$axios({\n        method: \"get\",\n        url: \"/family/AdministerController/deleteUserById\",\n        dataType: 'JSONP',\n        params: {\n          id: row.userid\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 0) {\n          _this.$message.success(\"\\u5220\\u9664\\u7B2C \".concat(index + 1, \" \\u884C\\u6210\\u529F\")); //this.incomeMsgList = res.data.data;\t\n\n        } else {\n          _this.$message.error(res.data.mag);\n        }\n      });\n    },\n    //搜索用户\n    handleSearch: function handleSearch() {\n      var _this2 = this;\n\n      this.$axios({\n        method: \"get\",\n        url: \"/family/AdministerController/findUserByUserName\",\n        dataType: 'JSONP',\n        params: {\n          userName: this.query\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 0) {\n          _this2.userList = res.data.data;\n          console.log(_this2.userList);\n\n          _this2.$message.success(\"\\u67E5\\u8BE2\\u6210\\u529F\");\n        } else {\n          _this2.$message.error(res.data.msg);\n        }\n      }); //this.getUserList()\n    },\n    //处理分页\n    handleSizeChange: function handleSizeChange(val) {\n      console.log('每页${val}条');\n      this.pagesize = val;\n      this.pagenume = 1;\n      this.getUserList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log('当前页:${val}');\n      this.pagenume = val;\n      this.getUserList();\n    },\n    //获取用户列表的请求\n    getUserList: function getUserList() {\n      var _this3 = this;\n\n      this.$axios({\n        method: \"get\",\n        url: \"/family/AdministerController/getUserList\",\n        dataType: \"JSONP\",\n        params: {\n          pageNum: this.pagenume,\n          pageSize: this.pagesize\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code === 0) {\n          _this3.userList = res.data.data;\n          _this3.total = res.data.total;\n          _this3.pagecount = res.data.pagecount;\n        }\n      });\n    }\n    /*\r\n    async getUserList(){\r\n    \t\r\n    \tconst AUTH_TOKEN = localStorage.getItem('token');\r\n    \tthis.$http.default.headers.common['Authorization'] = AUTH_TOKEN;\r\n    \r\n    \tconst res = await this.$http.get(\r\n    \t'AdministerController/getUserList',{\r\n    \t\tparams:{query:this.query},\r\n    \t\tparams:{pagenum:this.pagenum},\r\n    \t\tparams:{pagesize:this.pagesize}\r\n    \t});\r\n    \tconsole.log(res);\r\n    \tconst{meta:{code,msg},data:{users,total}}=res.data;\r\n    \tif(code===0){\r\n    \t\tthis.userList = users\r\n    \t\tthis.total=total\r\n    \t\tthis.$message.success(msg)\r\n    \t\t//this.pagenume = 1;\r\n    \t}\r\n    \telse{\r\n    \t\tthis.$message.error(msg)\r\n    \t}\r\n    }*/\n\n  }\n};",{"version":3,"sources":["UserTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t\r\n\t\t\t<!--1.面包屑-->\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-user\"></i> 用户管理\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t\t<div>\r\n\t\t\t\t<!--2.搜索-->\r\n\t\t\t\t<el-row class=\"searchRow\">\r\n\t\t\t\t\t<el-col>\r\n\t\t\t\t\t\t<el-input \r\n\t\t\t\t\t\tclearable \r\n\t\t\t\t\t\tv-model=\"query\" \r\n\t\t\t\t\t\tplaceholder=\"用户名\" \r\n\t\t\t\t\t\tclass=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t\r\n\t\t\t\t<!--3.表格-->\r\n\t\t\t\t<el-table\r\n\t\t\t\t\t:data=\"userList\"\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\tborder\r\n\t\t\t\t\theight=\"250\"\r\n\t\t\t\t\tclass=\"userTable\">\r\n\t\t\t\t\t<el-table-column prop=\"userid\" label=\"用户ID\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"username\" label=\"姓名\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"familyname\" label=\"家庭称呼\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"wage\"label=\"工资\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"userage\" label=\"年龄\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"consumptionquota\" label=\"余额\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"130px\" align=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeUserMsg(scope.$index, scope.row)\"></el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\t\t\r\n\t\t\t\r\n\t\t\t<!--4.分页-->\r\n\t\t\t<div class=\"page\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground \r\n\t\t\t\t\tlayout=\"total, sizes,prev, pager, next,jumper\"\r\n\t\t\t\t\t:current-page=\"pagenume\"\r\n\t\t\t\t\t:page-sizes=\"[2,4,6,8]\"\r\n\t\t\t\t\t:page-size=\"8\"\r\n\t\t\t\t\t:total=\"total\"\r\n\t\t\t\t\t:page-count=\"pagecount\"\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-card>\t\r\n\t</div>\t\r\n\t\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tquery:'',\r\n\t\t\tuserList:[],\r\n\t\t\ttotal:0,\r\n\t\t\tpagenume:1,\r\n\t\t\tpagesize:8,\r\n\t\t\tpagecount:0,\r\n\t\t\taName: 'admin'\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t    adminName() {\r\n\t        let adminName = localStorage.getItem('aName');\r\n\t        return adminName ? adminName : this.aName;\r\n\t    }\r\n\t},\r\n\tcreated(){\r\n\t\tthis.getUserList()\r\n\t},\r\n\tmethods:{\r\n\t\t\r\n\t\t/*this.$axios.get('http://139.199.27.251:8080/elm/BusinessController/listBusinessByOrderTypeId',{\r\n\t\t\tparams:{orderTypeId:this.orderTypeId}\r\n\t\t}).then(response=>{\r\n\t\t\tthis.businessArr = response.data;\r\n\t\t}).catch(error=>{\r\n\t\t\tconsole.log(\"请稍后重试。\");\r\n\t\t});*/\r\n\t\t\r\n\t\t//删除\r\n\t\tremoveUserMsg(index, row){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod:\"get\",\r\n\t\t\t\t\turl:\"/family/AdministerController/deleteUserById\",\r\n\t\t\t\t\tdataType:'JSONP',\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tid:row.userid,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t this.$message.success(`删除第 ${index + 1} 行成功`);\r\n\t\t\t\t\t\t//this.incomeMsgList = res.data.data;\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message.error(res.data.mag);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t//搜索用户\r\n\t\t\r\n\t\thandleSearch(){\r\n\t\t\tthis.$axios({\r\n\t\t\t\tmethod:\"get\",\r\n\t\t\t\turl:\"/family/AdministerController/findUserByUserName\",\r\n\t\t\t\tdataType:'JSONP',\r\n\t\t\t\tparams:{\r\n\t\t\t\t\tuserName:this.query\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t this.userList = res.data.data;\r\n\t\t\t\t\t console.log(this.userList);\r\n\t\t\t\t\t this.$message.success(`查询成功`);\r\n\t\t\t\t\t \t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t this.$message.error(res.data.msg);\r\n\t\t\t\t}\r\n\t\t\t})\t\r\n\t\t\t//this.getUserList()\r\n\t\t},\r\n\t\t//处理分页\r\n\t\thandleSizeChange(val){\r\n\t\t\tconsole.log('每页${val}条');\r\n\t\t\tthis.pagesize = val;\r\n\t\t\tthis.pagenume = 1;\r\n\t\t\tthis.getUserList();\r\n\t\t},\r\n\t\t\r\n\t\thandleCurrentChange(val){\r\n\t\t\tconsole.log('当前页:${val}');\r\n\t\t\tthis.pagenume = val;\r\n\t\t\tthis.getUserList();\r\n\t\t},\r\n\t\t\r\n\t\t//获取用户列表的请求\r\n\t\tgetUserList(){\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod :\"get\",\r\n\t\t\t\t\t\turl:\"/family/AdministerController/getUserList\",\r\n\t\t\t\t\t\tdataType:\"JSONP\",\r\n\t\t\t\t\t\tparams:{\r\n\t\t\t\t\t\t\tpageNum: this.pagenume,\r\n\t\t\t\t\t\t\tpageSize:this.pagesize\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif(res.data.code ===0){\r\n\t\t\t\t\t\t\tthis.userList = res.data.data;\r\n\t\t\t\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\t\t\t\tthis.pagecount = res.data.pagecount\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t/*\r\n\t\tasync getUserList(){\r\n\t\t\t\r\n\t\t\tconst AUTH_TOKEN = localStorage.getItem('token');\r\n\t\t\tthis.$http.default.headers.common['Authorization'] = AUTH_TOKEN;\r\n\t\t\r\n\t\t\tconst res = await this.$http.get(\r\n\t\t\t'AdministerController/getUserList',{\r\n\t\t\t\tparams:{query:this.query},\r\n\t\t\t\tparams:{pagenum:this.pagenum},\r\n\t\t\t\tparams:{pagesize:this.pagesize}\r\n\t\t\t});\r\n\t\t\tconsole.log(res);\r\n\t\t\tconst{meta:{code,msg},data:{users,total}}=res.data;\r\n\t\t\tif(code===0){\r\n\t\t\t\tthis.userList = users\r\n\t\t\t\tthis.total=total\r\n\t\t\t\tthis.$message.success(msg)\r\n\t\t\t\t//this.pagenume = 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.$message.error(msg)\r\n\t\t\t}\r\n\t\t}*/\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.box-card{\r\n\theight: 100%;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.inputSearch{\r\n\twidth: 300px;\r\n}\r\n.searchRow{\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n\ttext-align: center;\r\n}\r\n.userTable{\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n\tmargin-top: 20px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n\r\n.page{\r\n\tmargin-top: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/admin/page"}]}