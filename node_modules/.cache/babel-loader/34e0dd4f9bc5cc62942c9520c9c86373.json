{"remainingRequest":"E:\\other\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js!E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\other\\FamilyFinances\\src\\components\\user\\pages\\UserPayMsg.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\other\\FamilyFinances\\src\\components\\user\\pages\\UserPayMsg.vue","mtime":1597361118994},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js","mtime":1596893529372},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1596893556579}],"contextDependencies":[],"result":["import _defineProperty from \"E:\\\\other\\\\FamilyFinances\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.date.now\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserPayMsgHeader from \"../UserPayMsgHeader.vue\";\nexport default {\n  data: function data() {\n    var _ref;\n\n    //.....................................................\n    //.....................................................\n    return _ref = {\n      //带快捷键日期选择\n      pickerOptions: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n        shortcuts: [{\n          text: '今天',\n          onClick: function onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      //value_income: '',\n      //收入类型下拉框选择\n      options: [{\n        value: '1',\n        label: '工资'\n      }, {\n        value: '2',\n        label: '股票'\n      }, {\n        value: '3',\n        label: '分红'\n      }, {\n        value: '4',\n        label: '奖金'\n      }],\n      //  ip_value: '',\n      //............................................................\n      //查询用户收入信息列表参数\n      queryInfo: {\n        userId: '',\n        //从哪里得来？？？？？？？？？？？？？\n        payTypeId: '',\n        time: ''\n      },\n      payMsgList: [],\n      code: '',\n      msg: '',\n      editForm: {},\n      form: {},\n      idx: -1,\n      payTypeId: 1,\n      //控制弹窗显示隐藏\n      addDialogVisible: false,\n      //添加用户的表单数据\n      addForm: {\n        time: '',\n        payMoney: ',',\n        payPurpose: '',\n        comment: ''\n      },\n      //验证规则\n      addFormRules: {\n        time: [{\n          type: 'date',\n          required: true,\n          message: '请选择日期',\n          trigger: 'change'\n        }],\n        payMoney: [{\n          required: true,\n          message: '收入金额不能为空'\n        }, {\n          type: 'number',\n          message: '收入金额必须为数字值'\n        }],\n        payPurpose: [{\n          required: true,\n          message: '请选择收入类型',\n          trigger: 'change'\n        }],\n        comment: [{\n          required: true,\n          message: '请填写收入备注信息',\n          trigger: 'blur'\n        }]\n      },\n      //控制编辑信息弹框\n      editDialogVisible: false\n    }, _defineProperty(_ref, \"editForm\", {}), _defineProperty(_ref, \"editFormRules\", {\n      time: [{\n        type: 'date',\n        required: true,\n        message: '请选择日期',\n        trigger: 'change'\n      }],\n      payMoney: [{\n        required: true,\n        message: '收入金额不能为空'\n      }, {\n        type: 'number',\n        message: '收入金额必须为数字值'\n      }],\n      payPurpose: [{\n        required: true,\n        message: '请选择收入类型',\n        trigger: 'change'\n      }],\n      comment: [{\n        required: true,\n        message: '请填写收入备注信息',\n        trigger: 'blur'\n      }] //............................................................\n\n    }), _ref;\n  },\n  computed: {\n    userId: function userId() {\n      var userId = localStorage.getItem('myuserid');\n      return userId ? userId : this.userid;\n    }\n  },\n  components: {\n    'u-paymsgheader': UserPayMsgHeader\n  },\n  created: function created() {\n    //this.findPayByTypeAndDay()\n    this.getPayList();\n  },\n  //....................................................................\n  methods: {\n    /*async findPayByTypeAndDay(){\n    \tconst {data:res } = await this.$http.get(\"IncomeController/findPayByTypeAndDay\",{\n    \t\tparams:this.queryInfo\n    \t\t})\n    \tthis.payMsgList = res.data.list\t\n    \tthis.code = res.data.code\n    \tthis.msg = res.data.msg\n    \tconsole.log(res)\n    },*/\n    getPayList: function getPayList() {\n      var _this = this;\n\n      this.$axios({\n        method: \"get\",\n        url: \"/family/PayController/getPayList\",\n        dataType: 'JSONP',\n        params: {\n          userId: this.userId\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 0) {\n          _this.payMsgList = res.data.data;\n        }\n      });\n    },\n    //监听添加用户对话框关闭事件\n    addDialogClosed: function addDialogClosed() {\n      this.addDialogVisible = true;\n    },\n    //添加收入信息\n    addIncomePre: function addIncomePre() {\n      var _this2 = this;\n\n      this.addDialogVisible = false;\n      this.$axios({\n        method: \"get\",\n        url: \"family/PayController/addPay\",\n        dataType: 'JSONP',\n        params: {\n          userId: this.userId,\n          payMoney: this.addForm.paymoney,\n          payPurpose: this.addForm.paypurpose,\n          comment: this.addForm.comment,\n          payTypeId: this.payTypeId\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 0) {\n          _this2.$message.success(res.data.msg);\n        } else {\n          _this2.$message.error(res.data.msg);\n        }\n      });\n    },\n    //删除\n    removePayMsg: function removePayMsg(index, row) {\n      var _this3 = this;\n\n      this.$axios({\n        method: \"get\",\n        url: \"/family/PayController/deletePay\",\n        dataType: 'JSONP',\n        params: {\n          pid: row.pid\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 0) {\n          _this3.$message.success(\"\\u5220\\u9664\\u7B2C \".concat(index + 1, \" \\u884C\\u6210\\u529F\")); //this.incomeMsgList = res.data.data;\t\n\n        } else {\n          _this3.$message.error(res.data.mag);\n        }\n      });\n    },\n    //编辑信息操作\n    showEditDialog: function showEditDialog(index, row) {\n      this.editDialogVisible = true;\n      this.idx = index;\n      this.editForm = row;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      var _this4 = this;\n\n      this.editDialogVisible = false;\n      this.$axios({\n        method: \"get\",\n        url: \"/family/PayController/updatePay\",\n        dataType: 'JSONP',\n        params: {\n          userId: this.userId,\n          pId: this.editForm.payid,\n          payMoney: this.editForm.paymoney,\n          payPurpose: this.editForm.paytpurpose,\n          comment: this.editForm.comment,\n          payTypeId: this.editForm.payTypeId\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == 0) {\n          _this4.$message.success(\"\\u4FEE\\u6539\\u7B2C \".concat(_this4.idx + 1, \" \\u884C\\u6210\\u529F\")); //this.incomeMsgList = res.data.data;\t\n\n        }\n      }); // this.$set(this.incomeMsgList, this.idx, this.form);\n    }\n  } //生命周期函发起请求\n  //..................................................................\n\n};",{"version":3,"sources":["UserPayMsg.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"all_payMsg\">\r\n\t\t<u-paymsgheader></u-paymsgheader>\r\n\t\t<div class=\"top_chose\">\r\n\t\t\t<div class=\"datechose_payMsg\">\r\n\t\t\t\t<!-- 选择时间 ：年月日-->\r\n\t\t\t\t<div class=\"block\">\r\n\t\t\t\t    <el-date-picker\r\n\t\t\t\t      v-model=\"queryInfo.time\"\r\n\t\t\t\t      align=\"right\"\r\n\t\t\t\t      type=\"date\"\r\n\t\t\t\t      placeholder=\"选择日期\"\r\n\t\t\t\t      :picker-options=\"pickerOptions\">\r\n\t\t\t\t    </el-date-picker>\r\n\t\t\t\t  </div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- 选择类型 -->\r\n\t\t\t<div class=\"typechoser_payMsg\">\r\n\t\t\t\t <el-select v-model=\"queryInfo.payTypeId\" filterable placeholder=\"请选择\">\r\n\t\t\t\t    <el-option\r\n\t\t\t\t      v-for=\"item in options\"\r\n\t\t\t\t      :key=\"item.ip_value\"\r\n\t\t\t\t      :label=\"item.label\"\r\n\t\t\t\t      :value=\"item.ip_value\">\r\n\t\t\t\t    </el-option>\r\n\t\t\t\t  </el-select>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- 功能按钮：查询、添加 -->\r\n\t\t\t<div class=\"btn_payMsg\">\r\n\t\t\t\t<el-button type=\"primary\" plain style=\"margin-right: 20px;\">查询</el-button>\r\n\t\t\t\t\r\n\t\t\t\t<el-button type=\"success\" plain @click=\"addDialogClosed\">添加</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 内容显示区 -->\r\n\t\t<div class=\"show_payMsg\">\r\n\t\t\t<!-- 默认显示最近消费记录 -->\r\n\t\t<!-- .....................................................  -->\r\n\t\t\t<el-table :data = \"payMsgList\" stripe>\r\n\t\t\t\t<el-table-column label=\"编号\" prop=\"pid\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"金额\" prop=\"paymoney\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"日期\" prop=\"time\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"用途\" prop=\"paypurpose\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"备注\" prop=\"comment\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"130px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"@click=\"showEditDialog(scope.$index, scope.row)\"></el-button>\r\n\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removePayMsg(scope.$index, scope.row)\"></el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t\r\n\t\t<!-- .......................................................  -->\r\n\t\t</div>\r\n\t\t\r\n\t\t<!-- 添加信息弹框  -->\r\n\t\t<el-dialog\r\n\t\t  title=\"添加支出信息\"\r\n\t\t  :visible.sync=\"addDialogVisible\"\r\n\t\t  width=\"50%\"\r\n\t\t  @close=\"addDialogClosed\">\r\n\t\t  <!-- 内容主体区域 -->\r\n\t\t\t<el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"ruleFormRef\" label-width=\"100px\" >\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"支出金额\" prop=\"paymoney\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model.number=\"addForm.paymoney\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"选择类型\" prop=\"paypurpose\">\r\n\t\t\t\t\t<el-select placeholder=\"请选择支出类型\" v-model=\"addForm.paypurpose\">\r\n\t\t\t\t\t      <el-option label=\"税收\" value=\"税收\"></el-option>\r\n\t\t\t\t\t      <el-option label=\"衣食住行\" value=\"衣食住行\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"医疗\" value=\"医疗\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"其他\" value=\"其他\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"备注\" prop=\"comment\">\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"请输入备注信息\" v-model=\"addForm.comment\" maxlength=\"255\" show-word-limit></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\r\n\t\t\t</el-form>\r\n\t\t  \r\n\t\t  <!-- 底部区域：按钮确认 取消 -->\r\n\t\t  <span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n\t\t    <el-button type=\"primary\" @click=\"addIncomePre\">确 定</el-button>\r\n\t\t  </span>\r\n\t\t</el-dialog>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 编辑信息弹框 -->\r\n\t\t<!-- 编辑信息弹框 -->\r\n\t\t<el-dialog\r\n\t\t  title=\"编辑信息\"\r\n\t\t  :visible.sync=\"editDialogVisible\"\r\n\t\t  width=\"50%\">\r\n\t\t  <!-- 主体区域 -->\r\n\t\t\t<el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\" >\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"收入金额\" prop=\"paymoney\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model.number=\"editForm.paymoney\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"选择类型\" prop=\"paypurpose\">\r\n\t\t\t\t\t<el-select placeholder=\"请选择收入类型\" v-model=\"editForm.paypurpose\">\r\n\t\t\t\t\t      <el-option label=\"税收\" value=\"税收\"></el-option>\r\n\t\t\t\t\t      <el-option label=\"衣食住行\" value=\"衣食住行\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"医疗\" value=\"医疗\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"其他\" value=\"其他\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"备注\" prop=\"comment\">\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"请输入备注信息\" v-model=\"editForm.comment\" maxlength=\"255\" show-word-limit></el-input>\r\n\t\t\t\t</el-form-item>\t\r\n\t\t\t</el-form>\r\n\t\t  <!-- 底部按钮 -->\r\n\t\t  <span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n\t\t    <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n\t\t  </span>\r\n\t\t</el-dialog>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport UserPayMsgHeader from '../UserPayMsgHeader.vue'\r\n\t\r\n\texport default {\r\n\t    data() {\r\n\t\t//.....................................................\r\n\t\t\r\n\t\t//.....................................................\r\n\t      return {\r\n\t\t\t  //带快捷键日期选择\r\n\t        pickerOptions: {\r\n\t          disabledDate(time) {\r\n\t            return time.getTime() > Date.now();\r\n\t          },\r\n\t          shortcuts: [{\r\n\t            text: '今天',\r\n\t            onClick(picker) {\r\n\t              picker.$emit('pick', new Date());\r\n\t            }\r\n\t          }, {\r\n\t            text: '昨天',\r\n\t            onClick(picker) {\r\n\t              const date = new Date();\r\n\t              date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n\t              picker.$emit('pick', date);\r\n\t            }\r\n\t          }, {\r\n\t            text: '一周前',\r\n\t            onClick(picker) {\r\n\t              const date = new Date();\r\n\t              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n\t              picker.$emit('pick', date);\r\n\t            }\r\n\t          }]\r\n\t        },\r\n\t        //value_income: '',\r\n\t\t\t//收入类型下拉框选择\r\n\t\t\toptions: [{\r\n\t\t\t          value: '1',\r\n\t\t\t          label: '工资'\r\n\t\t\t        }, {\r\n\t\t\t          value: '2',\r\n\t\t\t          label: '股票'\r\n\t\t\t        }, {\r\n\t\t\t          value: '3',\r\n\t\t\t          label: '分红'\r\n\t\t\t        }, {\r\n\t\t\t          value: '4',\r\n\t\t\t          label: '奖金'\r\n\t\t\t        }],\r\n\t\t\t      //  ip_value: '',\r\n\t//............................................................\r\n\t\t\t\t//查询用户收入信息列表参数\r\n\t\t\t\tqueryInfo:{\r\n\t\t\t\t\tuserId:'',     //从哪里得来？？？？？？？？？？？？？\r\n\t\t\t\t\tpayTypeId:'',\r\n\t\t\t\t\ttime:'',\r\n\t\t\t\t},\r\n\t\t\t\tpayMsgList:[],\r\n\t\t\t\tcode:'',\r\n\t\t\t\tmsg:'',\r\n\t\t\t\teditForm:{},\r\n\t\t\t\tform: {},\r\n\t\t\t\tidx: -1,\r\n\t\t\t\tpayTypeId:1,\r\n\t\t\t\t//控制弹窗显示隐藏\r\n\t\t\t\taddDialogVisible :false,\r\n\t\t\t\t//添加用户的表单数据\r\n\t\t\t\taddForm:{\r\n\t\t\t\t\ttime:'',\r\n\t\t\t\t\tpayMoney:',',\r\n\t\t\t\t\tpayPurpose:'',\r\n\t\t\t\t\tcomment:'',\r\n\t\t\t\t},\r\n\t\t\t\t//验证规则\r\n\t\t\t\taddFormRules:{\r\n\t\t\t\t\ttime:[ { type: 'date', required: true, message: '请选择日期', trigger: 'change' }],\r\n\t\t\t\t\tpayMoney:[{required: true, message: '收入金额不能为空'},{type: 'number', message: '收入金额必须为数字值'}],\r\n\t\t\t\t\tpayPurpose:[{required: true, message: '请选择收入类型', trigger: 'change'}],\r\n\t\t\t\t\tcomment:[{required: true, message: '请填写收入备注信息', trigger: 'blur'}],\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t//控制编辑信息弹框\r\n\t\t\t\teditDialogVisible:false,\r\n\t\t\t\t//查询到的用户信息\r\n\t\t\t\teditForm:{},\r\n\t\t\t\teditFormRules:{\r\n\t\t\t\t\ttime:[ { type: 'date', required: true, message: '请选择日期', trigger: 'change' }],\r\n\t\t\t\t\tpayMoney:[{required: true, message: '收入金额不能为空'},{type: 'number', message: '收入金额必须为数字值'}],\r\n\t\t\t\t\tpayPurpose:[{required: true, message: '请选择收入类型', trigger: 'change'}],\r\n\t\t\t\t\tcomment:[{required: true, message: '请填写收入备注信息', trigger: 'blur'}],\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t//............................................................\r\n\t      }\r\n\t   },\r\n\t  computed: {\r\n\t  \tuserId() {\r\n\t  \t    let userId = localStorage.getItem('myuserid');\r\n\t  \t    return userId ? userId : this.userid;\r\n\t  \t}\r\n\t  },\r\n\t\tcomponents:{\r\n\t\t\t'u-paymsgheader':UserPayMsgHeader\r\n\t\t},\r\n\t\t\r\n\t\tcreated(){\r\n\t\t\t//this.findPayByTypeAndDay()\r\n\t\t\tthis.getPayList()\r\n\t\t},\r\n\t//....................................................................\r\n\t\tmethods:{\r\n\t\t\t/*async findPayByTypeAndDay(){\r\n\t\t\t\tconst {data:res } = await this.$http.get(\"IncomeController/findPayByTypeAndDay\",{\r\n\t\t\t\t\tparams:this.queryInfo\r\n\t\t\t\t\t})\r\n\t\t\t\tthis.payMsgList = res.data.list\t\r\n\t\t\t\tthis.code = res.data.code\r\n\t\t\t\tthis.msg = res.data.msg\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t},*/\r\n\t\t\t\r\n\t\t\tgetPayList(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod:\"get\",\r\n\t\t\t\t\turl:\"/family/PayController/getPayList\",\r\n\t\t\t\t\tdataType:'JSONP',\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tuserId:this.userId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.payMsgList = res.data.data;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//监听添加用户对话框关闭事件\r\n\t\t\taddDialogClosed(){\r\n\t\t\t\tthis.addDialogVisible = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//添加收入信息\r\n\t\t\taddIncomePre(){\r\n\t\t\t\tthis.addDialogVisible = false;\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod:\"get\",\r\n\t\t\t\t\turl:\"family/PayController/addPay\",\r\n\t\t\t\t\tdataType:'JSONP',\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tuserId:this.userId,\r\n\t\t\t\t\t\tpayMoney:this.addForm.paymoney,\r\n\t\t\t\t\t\tpayPurpose:this.addForm.paypurpose,\r\n\t\t\t\t\t\tcomment:this.addForm.comment,\r\n\t\t\t\t\t\tpayTypeId:this.payTypeId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t this.$message.success(res.data.msg);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message.error(res.data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//删除\r\n\t\t\tremovePayMsg(index, row){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod:\"get\",\r\n\t\t\t\t\turl:\"/family/PayController/deletePay\",\r\n\t\t\t\t\tdataType:'JSONP',\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tpid:row.pid,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t this.$message.success(`删除第 ${index + 1} 行成功`);\r\n\t\t\t\t\t\t//this.incomeMsgList = res.data.data;\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message.error(res.data.mag);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t//编辑信息操作\r\n\tshowEditDialog(index, row){\r\n\t\tthis.editDialogVisible = true;\r\n\t\tthis.idx = index;\r\n\t\tthis.editForm = row;\r\n\t\t\r\n\t},\r\n\t\r\n\t// 保存编辑\r\n\tsaveEdit() {\r\n\t    this.editDialogVisible = false;\r\n\t\tthis.$axios({\r\n\t\t\tmethod:\"get\",\r\n\t\t\turl:\"/family/PayController/updatePay\",\r\n\t\t\tdataType:'JSONP',\r\n\t\t\tparams:{\r\n\t\t\t\tuserId:this.userId,\r\n\t\t\t\tpId:this.editForm.payid,\r\n\t\t\t\tpayMoney:this.editForm.paymoney,\r\n\t\t\t\tpayPurpose:this.editForm.paytpurpose,\r\n\t\t\t\tcomment:this.editForm.comment,\r\n\t\t\t\tpayTypeId:this.editForm.payTypeId\r\n\t\t\t}\r\n\t\t}).then(res=>{\r\n\t\t\tconsole.log(res);\r\n\t\t\tif(res.data.code==0){\r\n\t\t\t\t this.$message.success(`修改第 ${this.idx + 1} 行成功`);\r\n\t\t\t\t//this.incomeMsgList = res.data.data;\t\r\n\t\t\t}\r\n\t\t})\r\n\t   \r\n\t   // this.$set(this.incomeMsgList, this.idx, this.form);\r\n\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t//生命周期函发起请求\r\n\t//..................................................................\r\n\t}\t\r\n\t\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.all_payMsg{\r\n\t\toverflow: auto;\r\n\t}\r\n\t\r\n\t\r\n\t.show_payMsg{\r\n\t\twidth: 70%;\r\n\t\theight: 500px;\r\n\t\tborder: 3px solid aliceblue;\r\n\t\tmargin-top: 140px;\r\n\t\tmargin-left: 200px;\r\n\t\t\r\n\t}\r\n\t.datechose_payMsg{\r\n\t\tfloat: left;\r\n\t\t\r\n\t}\r\n\t.typechoser_payMsg{\r\n\t\tfloat: left;\r\n\t\tmargin-left: 20px;\r\n\t}\r\n\t.btn_payMsg{\r\n\t\tfloat: left;\r\n\t\tmargin-left: 50px;\r\n\t\r\n\t}\r\n\t.top_chose{\r\n\t\tmargin-top: 30px;\r\n\t\tmargin-bottom: 30px;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%,0);\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/components/user/pages"}]}