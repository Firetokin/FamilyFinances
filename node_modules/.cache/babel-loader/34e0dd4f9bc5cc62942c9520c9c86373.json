{"remainingRequest":"E:\\other\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js!E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\other\\FamilyFinances\\src\\components\\user\\pages\\UserPayMsg.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\other\\FamilyFinances\\src\\components\\user\\pages\\UserPayMsg.vue","mtime":1597307953659},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js","mtime":1596893529372},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1596893556579},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\babel-loader\\lib\\index.js","mtime":1596893529372},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1596893556579}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\other\\\\FamilyFinances\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.date.now\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserPayMsgHeader from \"../UserPayMsgHeader.vue\";\nexport default {\n  data: function data() {\n    //.....................................................\n    //.....................................................\n    return {\n      //带快捷键日期选择\n      pickerOptions: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n        shortcuts: [{\n          text: '今天',\n          onClick: function onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      //value_income: '',\n      //收入类型下拉框选择\n      options: [{\n        value: '1',\n        label: '工资'\n      }, {\n        value: '2',\n        label: '股票'\n      }, {\n        value: '3',\n        label: '分红'\n      }, {\n        value: '4',\n        label: '奖金'\n      }],\n      //  ip_value: '',\n      //............................................................\n      //查询用户收入信息列表参数\n      queryInfo: {\n        userId: '',\n        //从哪里得来？？？？？？？？？？？？？\n        payTypeId: '',\n        time: ''\n      },\n      payMsgList: [],\n      code: '',\n      msg: '',\n      //控制弹窗显示隐藏\n      addDialogVisible: false,\n      //添加用户的表单数据\n      addForm: {\n        time: '',\n        payMoney: ',',\n        payPurpose: '',\n        comment: ''\n      },\n      //验证规则\n      addFormRules: {\n        time: [{\n          type: 'date',\n          required: true,\n          message: '请选择日期',\n          trigger: 'change'\n        }],\n        payMoney: [{\n          required: true,\n          message: '收入金额不能为空'\n        }, {\n          type: 'number',\n          message: '收入金额必须为数字值'\n        }],\n        payPurpose: [{\n          required: true,\n          message: '请选择收入类型',\n          trigger: 'change'\n        }],\n        comment: [{\n          required: true,\n          message: '请填写收入备注信息',\n          trigger: 'blur'\n        }]\n      },\n      //控制编辑信息弹框\n      editDialogVisible: false,\n      //查询到的用户信息\n      editForm: {},\n      editFormRules: {\n        time: [{\n          type: 'date',\n          required: true,\n          message: '请选择日期',\n          trigger: 'change'\n        }],\n        payMoney: [{\n          required: true,\n          message: '收入金额不能为空'\n        }, {\n          type: 'number',\n          message: '收入金额必须为数字值'\n        }],\n        payPurpose: [{\n          required: true,\n          message: '请选择收入类型',\n          trigger: 'change'\n        }],\n        comment: [{\n          required: true,\n          message: '请填写收入备注信息',\n          trigger: 'blur'\n        }] //............................................................\n\n      }\n    };\n  },\n  components: {\n    'u-paymsgheader': UserPayMsgHeader\n  },\n  //....................................................................\n  methods: {\n    findPayByTypeAndDay: function () {\n      var _findPayByTypeAndDay = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$http.get(\"IncomeController/findPayByTypeAndDay\", {\n                  params: this.queryInfo\n                });\n\n              case 2:\n                _ref = _context.sent;\n                res = _ref.data;\n                this.payMsgList = res.data.list;\n                this.code = res.data.code;\n                this.msg = res.data.msg;\n                console.log(res);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function findPayByTypeAndDay() {\n        return _findPayByTypeAndDay.apply(this, arguments);\n      }\n\n      return findPayByTypeAndDay;\n    }(),\n    //监听添加用户对话框关闭事件\n    addDialogClosed: function addDialogClosed() {\n      this.$refs.ruleFormRef.resetFields();\n    },\n    addIncomePre: function addIncomePre() {\n      var _this = this;\n\n      this.$refs.ruleFormRef.validate(\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee2(valid) {\n          var _ref3, res;\n\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (valid) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\");\n\n                case 2:\n                  _context2.next = 4;\n                  return _this.$http.post('IncomeController/addIncome', _this.addForm);\n\n                case 4:\n                  _ref3 = _context2.sent;\n                  res = _ref3.data;\n\n                  if (res.meta.code !== 0) {\n                    _this.$message.error('添加失败');\n                  }\n\n                  _this.$message.success('添加成功');\n\n                  _this.addDialogVisible = false;\n\n                case 9:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    },\n    //删除\n    removePayMsg: function () {\n      var _removePayMsg = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(id) {\n        var confirmResult, _ref4, res;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$confirm('此操作将永久删除该条信息, 是否继续?', '提示', {\n                  confirmButtonText: '确定',\n                  cancelButtonText: '取消',\n                  type: 'warning'\n                }).catch(function (err) {\n                  return err;\n                });\n\n              case 2:\n                confirmResult = _context3.sent;\n\n                if (!(confirmResult !== 'confirm')) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", this.$message.info('已取消'));\n\n              case 5:\n                _context3.next = 7;\n                return this.$http.delete('payController/deletePay' + id);\n\n              case 7:\n                _ref4 = _context3.sent;\n                res = _ref4.data;\n\n                if (!(res.meta.code !== 0)) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", this.$message.error('删除信息失败'));\n\n              case 11:\n                this.$message.success('删除成功');\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function removePayMsg(_x2) {\n        return _removePayMsg.apply(this, arguments);\n      }\n\n      return removePayMsg;\n    }(),\n    //编辑信息操作\n    showEditDialog: function () {\n      var _showEditDialog = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(id) {\n        var _ref5, res;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.$http.get('PayController/getPayList' + id);\n\n              case 2:\n                _ref5 = _context4.sent;\n                res = _ref5.data;\n\n                if (!(res.meta.code !== 0)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", this.$message.error('查询用户信息失败'));\n\n              case 6:\n                this.editForm = res.data;\n                this.editDialogVisible = true;\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function showEditDialog(_x3) {\n        return _showEditDialog.apply(this, arguments);\n      }\n\n      return showEditDialog;\n    }()\n  },\n  //生命周期函发起请求\n  created: function created() {\n    this.findPayByTypeAndDay();\n  } //..................................................................\n\n};",{"version":3,"sources":["UserPayMsg.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"all_payMsg\">\n\t\t<u-paymsgheader></u-paymsgheader>\n\t\t<div class=\"top_chose\">\n\t\t\t<div class=\"datechose_payMsg\">\n\t\t\t\t<!-- 选择时间 ：年月日-->\n\t\t\t\t<div class=\"block\">\n\t\t\t\t    <el-date-picker\n\t\t\t\t      v-model=\"queryInfo.time\"\n\t\t\t\t      align=\"right\"\n\t\t\t\t      type=\"date\"\n\t\t\t\t      placeholder=\"选择日期\"\n\t\t\t\t      :picker-options=\"pickerOptions\">\n\t\t\t\t    </el-date-picker>\n\t\t\t\t  </div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- 选择类型 -->\n\t\t\t<div class=\"typechoser_payMsg\">\n\t\t\t\t <el-select v-model=\"queryInfo.payTypeId\" filterable placeholder=\"请选择\">\n\t\t\t\t    <el-option\n\t\t\t\t      v-for=\"item in options\"\n\t\t\t\t      :key=\"item.ip_value\"\n\t\t\t\t      :label=\"item.label\"\n\t\t\t\t      :value=\"item.ip_value\">\n\t\t\t\t    </el-option>\n\t\t\t\t  </el-select>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- 功能按钮：查询、添加 -->\n\t\t\t<div class=\"btn_payMsg\">\n\t\t\t\t<el-button type=\"primary\" plain style=\"margin-right: 20px;\" @click=\"findPayByTypeAndDay\">查询</el-button>\n\t\t\t\t\n\t\t\t\t<el-button type=\"success\" plain @click=\"addDialogVisible = true\">添加</el-button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n\t\t<!-- 内容显示区 -->\n\t\t<div class=\"show_payMsg\">\n\t\t\t<!-- 默认显示最近消费记录 -->\n\t\t<!-- .....................................................  -->\r\n\t\t\t<el-table :data = \"payMsgList\" stripe>\r\n\t\t\t\t<el-table-column label=\"编号\" prop=\"incomeId\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"金额\" prop=\"payMoney\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"日期\" prop=\"time\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"用途\" prop=\"payPurpose\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"备注\" prop=\"comment\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"130px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n\t\t\t\t\t\t<el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removePayMsg(scope.row.id)\"></el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t\r\n\t\t<!-- .......................................................  -->\n\t\t</div>\r\n\t\t\r\n\t\t<!-- 添加信息弹框  -->\r\n\t\t<el-dialog\r\n\t\t  title=\"添加支出信息\"\r\n\t\t  :visible.sync=\"addDialogVisible\"\r\n\t\t  width=\"50%\"\r\n\t\t  @close=\"addDialogClosed\">\r\n\t\t  <!-- 内容主体区域 -->\r\n\t\t\t<el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"ruleFormRef\" label-width=\"100px\" >\r\n\t\t\t\t<el-form-item label=\"选择日期\" required>\r\n\t\t\t\t\t<el-form-item prop=\"time\">\r\n\t\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"addForm.time\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form-item>\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"支出金额\" prop=\"payMoney\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model.number=\"addForm.payMoney\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"选择类型\" prop=\"payPurpose\">\r\n\t\t\t\t\t<el-select placeholder=\"请选择支出类型\" v-model=\"addForm.payPurpose\">\r\n\t\t\t\t\t      <el-option label=\"税收\" value=\"1\"></el-option>\r\n\t\t\t\t\t      <el-option label=\"衣食住行\" value=\"2\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"医疗\" value=\"3\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"其他\" value=\"4\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"备注\" prop=\"comment\">\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"请输入备注信息\" v-model=\"addForm.comment\" maxlength=\"255\" show-word-limit></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\n\t\t\t</el-form>\r\n\t\t  \r\n\t\t  <!-- 底部区域：按钮确认 取消 -->\r\n\t\t  <span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n\t\t    <el-button type=\"primary\" @click=\"addIncomePre\">确 定</el-button>\r\n\t\t  </span>\r\n\t\t</el-dialog>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 编辑信息弹框 -->\r\n\t\t<!-- 编辑信息弹框 -->\r\n\t\t<el-dialog\r\n\t\t  title=\"编辑信息\"\r\n\t\t  :visible.sync=\"editDialogVisible\"\r\n\t\t  width=\"50%\">\r\n\t\t  <!-- 主体区域 -->\r\n\t\t\t<el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\" >\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"选择日期\" required>\r\n\t\t\t\t\t<el-form-item prop=\"time\">\r\n\t\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"editForm.time\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"收入金额\" prop=\"payMoney\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model.number=\"editForm.payMoney\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t\r\n\t\t\t\t<el-form-item label=\"选择类型\" prop=\"payPurpose\">\r\n\t\t\t\t\t<el-select placeholder=\"请选择收入类型\" v-model=\"editForm.payPurpose\">\r\n\t\t\t\t\t      <el-option label=\"工资\" value=\"1\"></el-option>\r\n\t\t\t\t\t      <el-option label=\"股票\" value=\"2\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"分红\" value=\"3\"></el-option>\r\n\t\t\t\t\t\t  <el-option label=\"奖金\" value=\"4\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"备注\" prop=\"comment\">\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"请输入备注信息\" v-model=\"editForm.comment\" maxlength=\"255\" show-word-limit></el-input>\r\n\t\t\t\t</el-form-item>\t\r\n\t\t\t</el-form>\r\n\t\t  <!-- 底部按钮 -->\r\n\t\t  <span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n\t\t    <el-button type=\"primary\" @click=\"editDialogVisible = false\">确 定</el-button>\r\n\t\t  </span>\r\n\t\t</el-dialog>\r\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport UserPayMsgHeader from '../UserPayMsgHeader.vue'\n\t\n\texport default {\n\t    data() {\r\n\t\t//.....................................................\r\n\t\t\r\n\t\t//.....................................................\n\t      return {\r\n\t\t\t  //带快捷键日期选择\n\t        pickerOptions: {\n\t          disabledDate(time) {\n\t            return time.getTime() > Date.now();\n\t          },\n\t          shortcuts: [{\n\t            text: '今天',\n\t            onClick(picker) {\n\t              picker.$emit('pick', new Date());\n\t            }\n\t          }, {\n\t            text: '昨天',\n\t            onClick(picker) {\n\t              const date = new Date();\n\t              date.setTime(date.getTime() - 3600 * 1000 * 24);\n\t              picker.$emit('pick', date);\n\t            }\n\t          }, {\n\t            text: '一周前',\n\t            onClick(picker) {\n\t              const date = new Date();\n\t              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n\t              picker.$emit('pick', date);\n\t            }\n\t          }]\n\t        },\n\t        //value_income: '',\n\t\t\t//收入类型下拉框选择\n\t\t\toptions: [{\n\t\t\t          value: '1',\n\t\t\t          label: '工资'\n\t\t\t        }, {\n\t\t\t          value: '2',\n\t\t\t          label: '股票'\n\t\t\t        }, {\n\t\t\t          value: '3',\n\t\t\t          label: '分红'\n\t\t\t        }, {\n\t\t\t          value: '4',\n\t\t\t          label: '奖金'\n\t\t\t        }],\n\t\t\t      //  ip_value: '',\r\n\t//............................................................\r\n\t\t\t\t//查询用户收入信息列表参数\r\n\t\t\t\tqueryInfo:{\r\n\t\t\t\t\tuserId:'',     //从哪里得来？？？？？？？？？？？？？\r\n\t\t\t\t\tpayTypeId:'',\r\n\t\t\t\t\ttime:'',\r\n\t\t\t\t},\r\n\t\t\t\tpayMsgList:[],\r\n\t\t\t\tcode:'',\r\n\t\t\t\tmsg:'',\r\n\t\t\t\t//控制弹窗显示隐藏\r\n\t\t\t\taddDialogVisible :false,\r\n\t\t\t\t//添加用户的表单数据\r\n\t\t\t\taddForm:{\r\n\t\t\t\t\ttime:'',\r\n\t\t\t\t\tpayMoney:',',\r\n\t\t\t\t\tpayPurpose:'',\r\n\t\t\t\t\tcomment:'',\r\n\t\t\t\t},\r\n\t\t\t\t//验证规则\r\n\t\t\t\taddFormRules:{\r\n\t\t\t\t\ttime:[ { type: 'date', required: true, message: '请选择日期', trigger: 'change' }],\r\n\t\t\t\t\tpayMoney:[{required: true, message: '收入金额不能为空'},{type: 'number', message: '收入金额必须为数字值'}],\r\n\t\t\t\t\tpayPurpose:[{required: true, message: '请选择收入类型', trigger: 'change'}],\r\n\t\t\t\t\tcomment:[{required: true, message: '请填写收入备注信息', trigger: 'blur'}],\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t//控制编辑信息弹框\r\n\t\t\t\teditDialogVisible:false,\r\n\t\t\t\t//查询到的用户信息\r\n\t\t\t\teditForm:{},\r\n\t\t\t\teditFormRules:{\r\n\t\t\t\t\ttime:[ { type: 'date', required: true, message: '请选择日期', trigger: 'change' }],\r\n\t\t\t\t\tpayMoney:[{required: true, message: '收入金额不能为空'},{type: 'number', message: '收入金额必须为数字值'}],\r\n\t\t\t\t\tpayPurpose:[{required: true, message: '请选择收入类型', trigger: 'change'}],\r\n\t\t\t\t\tcomment:[{required: true, message: '请填写收入备注信息', trigger: 'blur'}],\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t//............................................................\n\t      }\n\t   },\n\t\tcomponents:{\n\t\t\t'u-paymsgheader':UserPayMsgHeader\n\t\t},\r\n\t\t\r\n\t//....................................................................\r\n\t\tmethods:{\r\n\t\t\tasync findPayByTypeAndDay(){\r\n\t\t\t\tconst {data:res } = await this.$http.get(\"IncomeController/findPayByTypeAndDay\",{\r\n\t\t\t\t\tparams:this.queryInfo\r\n\t\t\t\t\t})\r\n\t\t\t\tthis.payMsgList = res.data.list\t\r\n\t\t\t\tthis.code = res.data.code\r\n\t\t\t\tthis.msg = res.data.msg\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t},\r\n\t\t\t//监听添加用户对话框关闭事件\r\n\t\t\taddDialogClosed(){\r\n\t\t\t\tthis.$refs.ruleFormRef.resetFields()\r\n\t\t\t},\r\n\t\t\taddIncomePre(){\r\n\t\t\t\tthis.$refs.ruleFormRef.validate(async valid =>{\r\n\t\t\t\t\tif(!valid) return\r\n\t\t\t\t\t//可以发起添加用户请求\r\n\t\t\t\t\tconst {data : res} = await this.$http.post('IncomeController/addIncome',this.addForm)\r\n\t\t\t\t\tif(res.meta.code !== 0){\r\n\t\t\t\t\t\tthis.$message.error('添加失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.success('添加成功')\r\n\t\t\t\t\tthis.addDialogVisible = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//删除\r\n\t\t\tasync removePayMsg(id){\r\n\t\t\t\t//弹框询问\r\n\t\t\t\tconst confirmResult = await this.$confirm('此操作将永久删除该条信息, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t}).catch(err =>{\r\n\t\t\t\t\t\treturn err\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//确认删除为confirm，取消为cancel\r\n\t\t\t\t\t//console.log(confirmResult)\r\n\t\t\t\t\tif(confirmResult !== 'confirm'){\r\n\t\t\t\t\t\treturn this.$message.info('已取消')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst {data: res} = await this.$http.delete('payController/deletePay' + id)\r\n\t\t\t\t\tif(res.meta.code !== 0){\r\n\t\t\t\t\t\treturn this.$message.error('删除信息失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.success('删除成功')\t\r\n\t\t\t},\r\n\t\t\t//编辑信息操作\r\n\t\t\tasync showEditDialog(id){\r\n\t\t\t\tconst {data:res} = await this.$http.get('PayController/getPayList' + id)\r\n\t\t\t\tif(res.meta.code !== 0){\r\n\t\t\t\t\treturn this.$message.error('查询用户信息失败')\r\n\t\t\t\t}\r\n\t\t\t\tthis.editForm = res.data\r\n\t\t\t\tthis.editDialogVisible = true\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t//生命周期函发起请求\r\n\t\tcreated(){\r\n\t\t\tthis.findPayByTypeAndDay()\r\n\t\t}\r\n\t//..................................................................\r\n\t}\t\n\t\n</script>\n\n<style lang=\"less\">\n\t.all_payMsg{\r\n\t\toverflow: auto;\n\t}\n\t\n\t\n\t.show_payMsg{\n\t\twidth: 70%;\n\t\theight: 500px;\n\t\tborder: 3px solid aliceblue;\n\t\tmargin-top: 140px;\r\n\t\tmargin-left: 200px;\n\t\t\n\t}\n\t.datechose_payMsg{\n\t\tfloat: left;\n\t\t\n\t}\n\t.typechoser_payMsg{\n\t\tfloat: left;\n\t\tmargin-left: 20px;\n\t}\n\t.btn_payMsg{\n\t\tfloat: left;\n\t\tmargin-left: 50px;\n\t\n\t}\n\t.top_chose{\n\t\tmargin-top: 30px;\n\t\tmargin-bottom: 30px;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%,0);\n\t}\n</style>\n"],"sourceRoot":"src/components/user/pages"}]}