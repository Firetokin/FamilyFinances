{"remainingRequest":"E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\other\\FamilyFinances\\src\\components\\admin\\page\\UserTable.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\other\\FamilyFinances\\src\\components\\admin\\page\\UserTable.vue","mtime":1597197719430},{"path":"E:\\other\\FamilyFinances\\node_modules\\css-loader\\index.js","mtime":1596893537505},{"path":"E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1596893556585},{"path":"E:\\other\\FamilyFinances\\node_modules\\postcss-loader\\src\\index.js","mtime":1596893549570},{"path":"E:\\other\\FamilyFinances\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596893530495},{"path":"E:\\other\\FamilyFinances\\node_modules\\vue-loader\\lib\\index.js","mtime":1596893556579}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.box-card{\r\n\theight: 100%;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.inputSearch{\r\n\twidth: 300px;\r\n}\r\n.searchRow{\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n\ttext-align: center;\r\n}\r\n.userTable{\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n\tmargin-top: 20px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n\r\n.page{\r\n\tmargin-top: 20px;\r\n}\r\n",{"version":3,"sources":["UserTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"UserTable.vue","sourceRoot":"src/components/admin/page","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t\r\n\t\t\t<!--1.面包屑-->\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-user\"></i> 用户管理\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t\t<div>\r\n\t\t\t\t<!--2.搜索-->\r\n\t\t\t\t<el-row class=\"searchRow\">\r\n\t\t\t\t\t<el-col>\r\n\t\t\t\t\t\t<el-input \r\n\t\t\t\t\t\t@clear=\"LoadUserList()\"\r\n\t\t\t\t\t\tclearable \r\n\t\t\t\t\t\tv-model=\"query\" \r\n\t\t\t\t\t\tplaceholder=\"用户名\" \r\n\t\t\t\t\t\tclass=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t\r\n\t\t\t\t<!--3.表格-->\r\n\t\t\t\t<el-table\r\n\t\t\t\t\t:data=\"userList\"\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\tborder\r\n\t\t\t\t\theight=\"250\"\r\n\t\t\t\t\tclass=\"userTable\">\r\n\t\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"userName\" label=\"姓名\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"password\" label=\"密码\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"familyName\" label=\"家庭称呼\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"wage\"label=\"工资\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"userAge\" label=\"年龄\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"comsumption\" label=\"余额\" align=\"center\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\tfixed=\"right\"\r\n\t\t\t\t\t\tlabel=\"操作\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talign=\"center\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\"\r\n\t\t\t\t\t\t\t\t\t@click=\"showDeleUserMsgBox(scope.row.userId)\">\r\n\t\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\t\t\r\n\t\t\t\r\n\t\t\t<!--4.分页-->\r\n\t\t\t<div class=\"page\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground \r\n\t\t\t\t\tlayout=\"total, sizes,prev, pager, next,jumper\"\r\n\t\t\t\t\t:current-page=\"pagenume\"\r\n\t\t\t\t\t:page-sizes=\"[2,4,6,8]\"\r\n\t\t\t\t\t:page-size=\"2\"\r\n\t\t\t\t\t:total=\"total\"\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-card>\t\r\n\t</div>\t\r\n\t\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tquery:'',\r\n\t\t\tuserList:[],\r\n\t\t\ttotal:-1,\r\n\t\t\tpagenume:1,\r\n\t\t\tpagesize:2,\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.getUserList()\r\n\t},\r\n\tmethods:{\r\n\t\t\r\n\t\t/*this.$axios.get('http://139.199.27.251:8080/elm/BusinessController/listBusinessByOrderTypeId',{\r\n\t\t\tparams:{orderTypeId:this.orderTypeId}\r\n\t\t}).then(response=>{\r\n\t\t\tthis.businessArr = response.data;\r\n\t\t}).catch(error=>{\r\n\t\t\tconsole.log(\"请稍后重试。\");\r\n\t\t});*/\r\n\t\t\r\n\t\tshowDeleUserMsgBox(userId){\r\n\t\t\tthis.$confirm('删除用户?', '提示', {\r\n\t\t\t    confirmButtonText: '确定',\r\n\t\t\t    cancelButtonText: '取消',\r\n\t\t\t    type: 'warning'\r\n\t\t\t}).then(async()=> {\r\n\t\t\t\tconst res = await this.$http.get('AdministerController/deleteUserById',{\r\n\t\t\t\t\tparams:{userId:this.userId}\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\tthis.pagenume=1\r\n\t\t\t\t\tthis.getUserList()\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: res.data.msg,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).catch(() => {\r\n\t\t\t    this.$message({\r\n\t\t\t    type: 'info',\r\n\t\t\t    message: '已取消删除'\r\n\t\t\t    });          \r\n\t\t\t});\r\n\t\t},\r\n\t\t//搜索用户\r\n\t\tLoadUserList(){\r\n\t\t\tthis.getUserList()\r\n\t\t},\r\n\t\t\r\n\t\thandleSearch(){\r\n\t\t\tthis.getUserList()\r\n\t\t},\r\n\t\t\r\n\t\t//处理分页\r\n\t\thandleSizeChange(val){\r\n\t\t\tconsole.log('每页${val}条');\r\n\t\t\tthis.pagesize = val;\r\n\t\t\tthis.pagenume = 1;\r\n\t\t\tthis.getUserList();\r\n\t\t},\r\n\t\t\r\n\t\thandleCurrentChange(val){\r\n\t\t\tconsole.log('当前页:${val}');\r\n\t\t\tthis.pagenume = val;\r\n\t\t\tthis.getUserList();\r\n\t\t},\r\n\t\t\r\n\t\t//获取用户列表的请求\r\n\t\tasync getUserList(){\r\n\t\t\t\r\n\t\t\tconst AUTH_TOKEN = localStorage.getItem('token');\r\n\t\t\tthis.$http.default.headers.common['Authorization'] = AUTH_TOKEN;\r\n\t\t\r\n\t\t\tconst res = await this.$http.get(\r\n\t\t\t'AdministerController/getUserList',{\r\n\t\t\t\tparams:{query:this.query},\r\n\t\t\t\tparams:{pagenum:this.pagenum},\r\n\t\t\t\tparams:{pagesize:this.pagesize}\r\n\t\t\t});\r\n\t\t\tconsole.log(res);\r\n\t\t\tconst{meta:{code,msg},data:{users,total}}=res.data;\r\n\t\t\tif(code===0){\r\n\t\t\t\tthis.userList = users\r\n\t\t\t\tthis.total=total\r\n\t\t\t\tthis.$message.success(msg)\r\n\t\t\t\t//this.pagenume = 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.$message.error(msg)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.box-card{\r\n\theight: 100%;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.inputSearch{\r\n\twidth: 300px;\r\n}\r\n.searchRow{\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n\ttext-align: center;\r\n}\r\n.userTable{\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n\tmargin-top: 20px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n\r\n.page{\r\n\tmargin-top: 20px;\r\n}\r\n</style>\r\n"]}]}